---
layout: post
title:  "Dart学习：多继承"
categories: Dart
tags: 库类接口继承
author: MLM
---
# [多继承](https://ducafecat.com/course/dart-learn/dart-23-mixin#%E5%A4%9A%E7%BB%A7%E6%89%BF)

## [多继承 with](https://ducafecat.com/course/dart-learn/dart-23-mixin#%E5%A4%9A%E7%BB%A7%E6%89%BF-with)

* 定义类

```dart
class Phone {
  void call() {
    print('Phone is calling...');
  }
}

class Android {
  void playStore() {
    print('Google play store');
  }
}

class Ios {
  void appleStore() {
    print('Apply store');
  }
}
```

* with 混入

```dart
class Xiaomi with Phone, Android, Ios {}
```

> 采用 `with ... , .... , ...` 方式 mixin 入多个类功能

* 执行

```dart
void main(List<String> args) {
  var p = Xiaomi();
  p.call();
  p.playStore();
  p.appleStore();
}

Phone is calling...
Google play store
Apply store
```

## [函数重名冲突](https://ducafecat.com/course/dart-learn/dart-23-mixin#%E5%87%BD%E6%95%B0%E9%87%8D%E5%90%8D%E5%86%B2%E7%AA%81)

* Android Ios 加入 call 函数

```dart
class Android {
  void playStore() {
    print('Google play store');
  }

  void call() {
    print('Android phone is calling...');
  }
}

class Ios {
  void appleStore() {
    print('Apply store');
  }

  void call() {
    print('Ios phone is calling...');
  }
}
```

* 执行

```dart
void main(List<String> args) {
  var p = Xiaomi();
  p.call();
  p.playStore();
  p.appleStore();
}

Ios phone is calling...
Google play store
Apply store
```

> 可以发现后面的覆盖了前面的内容

## [mixin 不能构造函数](https://ducafecat.com/course/dart-learn/dart-23-mixin#mixin-%E4%B8%8D%E8%83%BD%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0)

* 加入构造函数

```dart
class Android {
  Android();
  ...
}

The class 'Android' can't be used as a mixin because it declares a constructor.
```

* 加入 mixin 关键字 限定

```dart
mixin Android {
  // mixin 中不能定义 constructor
  ...
}
```

## [mixin on 限定条件](https://ducafecat.com/course/dart-learn/dart-23-mixin#mixin-on-%E9%99%90%E5%AE%9A%E6%9D%A1%E4%BB%B6)

* 关键字 on 限定 Phone

```dart
mixin Android on Phone {
  void playStore() {
    print('Google play store');
  }

  @override
  void call() {
    super.call();
    print('Android phone is calling...');
  }
}
```

* with 混入时候，必须先 Phone 才行

错误

```dart
class Xiaomi with Android {}

'Android' can't be mixed onto 'Object' because 'Object' doesn't implement 'Phone'.
Try extending the class 'Android'.
```

正确

```dart
class Xiaomi with Phone,Android {}
```
