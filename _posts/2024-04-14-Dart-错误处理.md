---
layout: post
title:  "Dart学习：错误处理"
categories: Dart
tags: 注释函数表达式
author: MLM
---
# [异常](https://ducafecat.com/course/dart-learn/dart-15-err#%E5%BC%82%E5%B8%B8)

## [错误的两种类型](https://ducafecat.com/course/dart-learn/dart-15-err#%E9%94%99%E8%AF%AF%E7%9A%84%E4%B8%A4%E7%A7%8D%E7%B1%BB%E5%9E%8B)

### [Exception 类](https://ducafecat.com/course/dart-learn/dart-15-err#exception-%E7%B1%BB)

[Exception class](https://api.dartlang.org/stable/2.17.1/dart-core/Exception-class.html)


| 名称                           | 说明         |
| ------------------------------ | ------------ |
| DeferredLoadException          | 延迟加载错误 |
| FormatException                | 格式错误     |
| IntegerDivisionByZeroException | 整数除零错误 |
| IOException                    | IO 错误      |
| IsolateSpawnException          | 隔离产生错误 |
| TimeoutException               | 超时错误     |

> 可以捕获，可以安全处理

### [Error 类](https://ducafecat.com/course/dart-learn/dart-15-err#error-%E7%B1%BB)

[Error class](https://api.dartlang.org/stable/2.17.1/dart-core/Error-class.html)


| 名称                            | 说明              |
| ------------------------------- | ----------------- |
| AbstractClassInstantiationError | 抽象类实例化错误  |
| ArgumentError                   | 参数错误          |
| AssertionError                  | 断言错误          |
| AsyncError                      | 异步错误          |
| CastError                       | Cast 错误         |
| ConcurrentModificationError     | 并发修改错误      |
| CyclicInitializationError       | 周期初始错误      |
| FallThroughError                | Fall Through 错误 |
| JsonUnsupportedObjectError      | json 不支持错误   |
| NoSuchMethodError               | 没有这个方法错误  |
| NullThrownError                 | Null 错误错误     |
| OutOfMemoryError                | 内存溢出错误      |
| RemoteError                     | 远程错误          |
| StackOverflowError              | 堆栈溢出错误      |
| StateError                      | 状态错误          |
| UnimplementedError              | 未实现的错误      |
| UnsupportedError                | 不支持错误        |

> 一般用在不可恢复，容易崩溃的情况

## [抛出错误](https://ducafecat.com/course/dart-learn/dart-15-err#%E6%8A%9B%E5%87%BA%E9%94%99%E8%AF%AF)

```dart
  // Exception 对象
  throw new FormatException('这是一个格式错误提示');

  // Error 对象
  throw new OutOfMemoryError();

  // 任意对象
  throw '这是一个异常';
```

## [捕获错误](https://ducafecat.com/course/dart-learn/dart-15-err#%E6%8D%95%E8%8E%B7%E9%94%99%E8%AF%AF)

```dart
  try {
    // throw new FormatException('这是一个格式错误提示');
    throw new OutOfMemoryError();
  } on OutOfMemoryError {
    print('没有内存了');
  } catch (e) {
    print(e);
  }
```

## [重新抛出错误](https://ducafecat.com/course/dart-learn/dart-15-err#%E9%87%8D%E6%96%B0%E6%8A%9B%E5%87%BA%E9%94%99%E8%AF%AF)

```dart
  try {
    throw new OutOfMemoryError();
  } on OutOfMemoryError {
    print('没有内存了');
    rethrow;
  } catch (e) {
    print(e);
  }
```

## [Finally 执行](https://ducafecat.com/course/dart-learn/dart-15-err#finally-%E6%89%A7%E8%A1%8C)

```dart
  try {
    throw new OutOfMemoryError();
  } on OutOfMemoryError {
    print('没有内存了');
    rethrow;
  } catch (e) {
    print(e);
  } finally {
    print('end');
  }
```

## [自定义异常](https://ducafecat.com/course/dart-learn/dart-15-err#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%BC%82%E5%B8%B8)

```dart
class DioError implements Exception {
  DioError(this.message, this.type);

  final String message;
  final String type;

  @override
  String toString() {
    return 'DioError{message: $message, type: $type}';
  }
}

void main(List<String> args) {
  throw DioError("error", "type");
}
```


```
